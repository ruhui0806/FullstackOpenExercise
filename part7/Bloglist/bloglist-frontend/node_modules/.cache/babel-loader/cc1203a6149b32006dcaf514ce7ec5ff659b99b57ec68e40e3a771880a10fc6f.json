{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kulta/Code/FullstackOpenExercise/part5/bloglist-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kulta/Code/FullstackOpenExercise/part5/bloglist-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from'axios';var baseUrl='/api/blogs';var token=null;var config=null;var setToken=function setToken(newToken){token=\"bearer \".concat(newToken);config={headers:{Authorization:token}};};var getAll=function getAll(){var request=axios.get(baseUrl,config);return request.then(function(response){return response.data;});};var createNew=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(newObject){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(baseUrl,newObject,config);case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function createNew(_x){return _ref.apply(this,arguments);};}();var update=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id,newObject){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"\".concat(baseUrl,\"/\").concat(id),newObject,config);case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function update(_x2,_x3){return _ref2.apply(this,arguments);};}();var remove=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.delete(\"\".concat(baseUrl,\"/\").concat(id),config);case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function remove(_x4){return _ref3.apply(this,arguments);};}();export default{getAll:getAll,createNew:createNew,setToken:setToken,update:update,remove:remove};","map":{"version":3,"names":["axios","baseUrl","token","config","setToken","newToken","headers","Authorization","getAll","request","get","then","response","data","createNew","newObject","post","update","id","put","remove","delete"],"sources":["/Users/kulta/Code/FullstackOpenExercise/part5/bloglist-frontend/src/services/blogs.js"],"sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\nlet config = null\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n  config = {\n    headers: { Authorization: token }\n  }\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl, config)\n  return request.then(response => response.data)\n}\n\nconst createNew = async newObject => {\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\nconst update = async (id, newObject) => {\n  const response = await axios.put(`${baseUrl}/${id}`, newObject, config)\n  return response.data\n}\n\nconst remove = async id => {\n  const response = await axios.delete(`${baseUrl}/${id}`, config)\n  return response.data\n}\n\n\nexport default { getAll, createNew, setToken, update, remove }"],"mappings":"0TAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,GAAMC,QAAO,CAAG,YAAY,CAE5B,GAAIC,MAAK,CAAG,IAAI,CAChB,GAAIC,OAAM,CAAG,IAAI,CAEjB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,QAAQ,CAAK,CAC7BH,KAAK,kBAAaG,QAAQ,CAAE,CAC5BF,MAAM,CAAG,CACPG,OAAO,CAAE,CAAEC,aAAa,CAAEL,KAAM,CAClC,CAAC,CACH,CAAC,CAED,GAAMM,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,GAAMC,QAAO,CAAGT,KAAK,CAACU,GAAG,CAACT,OAAO,CAAEE,MAAM,CAAC,CAC1C,MAAOM,QAAO,CAACE,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,GAAC,CAChD,CAAC,CAED,GAAMC,UAAS,4FAAG,iBAAMC,SAAS,uJACRf,MAAK,CAACgB,IAAI,CAACf,OAAO,CAAEc,SAAS,CAAEZ,MAAM,CAAC,QAAvDS,QAAQ,+CACPA,QAAQ,CAACC,IAAI,wDACrB,kBAHKC,UAAS,4CAGd,CAED,GAAMG,OAAM,6FAAG,kBAAOC,EAAE,CAAEH,SAAS,4JACVf,MAAK,CAACmB,GAAG,WAAIlB,OAAO,aAAIiB,EAAE,EAAIH,SAAS,CAAEZ,MAAM,CAAC,QAAjES,QAAQ,iDACPA,QAAQ,CAACC,IAAI,0DACrB,kBAHKI,OAAM,kDAGX,CAED,GAAMG,OAAM,6FAAG,kBAAMF,EAAE,4JACElB,MAAK,CAACqB,MAAM,WAAIpB,OAAO,aAAIiB,EAAE,EAAIf,MAAM,CAAC,QAAzDS,QAAQ,iDACPA,QAAQ,CAACC,IAAI,0DACrB,kBAHKO,OAAM,8CAGX,CAGD,cAAe,CAAEZ,MAAM,CAANA,MAAM,CAAEM,SAAS,CAATA,SAAS,CAAEV,QAAQ,CAARA,QAAQ,CAAEa,MAAM,CAANA,MAAM,CAAEG,MAAM,CAANA,MAAO,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}