{"ast":null,"code":"var _jsxFileName = \"/Users/befantastic/my_repos/bloglist-frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Blog from './components/Blog';\nimport blogService from './services/blogs';\nimport loginService from './services/login'; // import LoginForm from './components/LoginForm'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [blogs, setBlogs] = useState([]);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [user, setUser] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [newTitle, setTitle] = useState(\"\");\n  const [newAuthor, setAuthor] = useState(\"\");\n  const [newUrl, setUrl] = useState(\"\");\n  useEffect(() => {\n    blogService.getAll().then(blogs => setBlogs(blogs));\n  }, []);\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser');\n\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      setUser(user);\n    }\n  }, []);\n\n  const handleLogin = async event => {\n    event.preventDefault();\n\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user));\n      blogService.setToken(user.token);\n      setUser(user);\n      setUsername('');\n      setPassword('');\n    } catch (exception) {\n      setErrorMessage('Wrong credentials');\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n    }\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n    window.localStorage.removeItem('loggedBlogappUser');\n  };\n\n  const loginForm = () => /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleLogin,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"log in to application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"username\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username,\n        name: \"Username\",\n        onChange: _ref => {\n          let {\n            target\n          } = _ref;\n          return setUsername(target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"password\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        name: \"Password\",\n        onChange: _ref2 => {\n          let {\n            target\n          } = _ref2;\n          return setPassword(target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n\n  const addBlog = event => {\n    event.preventDefault();\n    const blogObject = {\n      Title: newTitle,\n      Author: newAuthor,\n      Url: newUrl\n    };\n    blogService.create(blogObject).then(newBlog => {\n      setBlogs(blogs.concat(newBlog));\n    });\n    setTitle(\"\");\n    setAuthor(\"\");\n    setUrl(\"\");\n  }; // const blogForm = () => {\n  //   <form onSubmit={createBlog}>\n  //     <>title <input value={title} onChange={({ target }) => setTitle(target.value)} /> </>\n  //     <>author <input value={author} onChange={({ target }) => setAuthor(target.value)} /> </>\n  //     <>url <input value={url} onChange={({ target }) => setUrl(target.value)} /> </>\n  //   </form>\n  // }\n\n\n  const BlogsList = () => /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"blogs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\" \", user.name, \" logged in\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"create new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addBlog,\n      children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"Title: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newTitle,\n          onChange: _ref3 => {\n            let {\n              target\n            } = _ref3;\n            setTitle(target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 18\n        }, this), \" \"]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"Author: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newAuthor,\n          onChange: _ref4 => {\n            let {\n              target\n            } = _ref4;\n            return setAuthor(target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 19\n        }, this), \" \"]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\"Url: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: newUrl,\n          onChange: _ref5 => {\n            let {\n              target\n            } = _ref5;\n            return setUrl(target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 16\n        }, this), \" \"]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \" save \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), blogs.map(blog => /*#__PURE__*/_jsxDEV(Blog, {\n      blog: blog\n    }, blog.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"log out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [user === null && loginForm(), user !== null && BlogsList(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"IjasxspKbQxvdu4n6wtOIA3gHyY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/befantastic/my_repos/bloglist-frontend/src/App.js"],"names":["React","useState","useEffect","Blog","blogService","loginService","App","blogs","setBlogs","username","setUsername","password","setPassword","user","setUser","errorMessage","setErrorMessage","newTitle","setTitle","newAuthor","setAuthor","newUrl","setUrl","getAll","then","loggedUserJSON","window","localStorage","getItem","JSON","parse","handleLogin","event","preventDefault","login","setItem","stringify","setToken","token","exception","setTimeout","handleLogout","removeItem","loginForm","target","value","addBlog","blogObject","Title","Author","Url","create","newBlog","concat","BlogsList","name","map","blog","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\n// import LoginForm from './components/LoginForm'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  const [newTitle, setTitle] = useState(\"\")\n  const [newAuthor, setAuthor] = useState(\"\")\n  const [newUrl, setUrl] = useState(\"\")\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n      setBlogs(blogs)\n    )\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n    }\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    }\n    catch (exception) {\n      setErrorMessage('Wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleLogout = () => {\n    setUser(null)\n    window.localStorage.removeItem('loggedBlogappUser')\n  }\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <h2>log in to application</h2>\n      <div>\n        username\n        <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={({ target }) => setUsername(target.value)}\n        />\n      </div>\n      <div>\n        password\n        <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n\n\n  const addBlog = (event) => {\n\n    event.preventDefault()\n\n    const blogObject = {\n      Title: newTitle,\n      Author: newAuthor,\n      Url: newUrl\n    }\n\n    blogService.create(blogObject)\n      .then(newBlog => {\n        setBlogs(blogs.concat(newBlog))\n      })\n    setTitle(\"\")\n    setAuthor(\"\")\n    setUrl(\"\")\n  }\n\n\n  // const blogForm = () => {\n  //   <form onSubmit={createBlog}>\n  //     <>title <input value={title} onChange={({ target }) => setTitle(target.value)} /> </>\n  //     <>author <input value={author} onChange={({ target }) => setAuthor(target.value)} /> </>\n  //     <>url <input value={url} onChange={({ target }) => setUrl(target.value)} /> </>\n  //   </form>\n  // }\n\n\n  const BlogsList = () => (\n    <>\n      <h2>blogs</h2>\n      <h3> {user.name} logged in</h3>\n\n      <h3>create new</h3>\n      <form onSubmit={addBlog}>\n        <>Title: <input value={newTitle} onChange={({ target }) => { setTitle(target.value) }} /> </>\n        <br />\n        <>Author: <input value={newAuthor} onChange={({ target }) => setAuthor(target.value)} /> </>\n        <br />\n        <>Url: <input value={newUrl} onChange={({ target }) => setUrl(target.value)} /> </>\n        <br />\n        <button type='submit'> save </button>\n      </form>\n\n\n      {blogs.map(blog =>\n        <Blog key={blog.id} blog={blog} />\n      )}\n      <button onClick={handleLogout}>log out</button>\n\n    </>\n\n  )\n\n\n\n\n  return (\n    <div>\n\n      {user === null && loginForm()}\n      {user !== null && BlogsList()}\n\n\n\n\n      <br />\n      {/* {blogs.map(blog =>\n        <Blog key={blog.id} blog={blog} />\n      )} */}\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}