{"version":3,"sources":["services/persons.js","components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","res","data","create","newObj","post","remove","deleteObj","delete","id","update","Obj","put","Person","person","handleDelete","name","number","onClick","Persons","props","persons","map","personItem","Filter","input","length","type","value","onChange","handlePersonShow","personsToshow","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","Notification","message","errorOccured","style","color","fontStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setInput","showAll","setShowAll","setNewNumber","notification","setNotification","errorOccur","setErrorOccur","useEffect","initialPersons","filter","item","toLowerCase","includes","event","target","preventDefault","personObject","samePerson","p","index","findIndex","obj","window","confirm","setTimeout","catch","err","console","log","newPerson","concat","matchedPerson","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6887e967.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = \"https://phone-book-backend-app.herokuapp.com/api/persons\"\n\nconst getAll = () => {\n    return axios.get(baseUrl).then(res => res.data)\n}\n\nconst create = (newObj) => {\n    return axios.post(baseUrl, newObj).then(res => res.data)\n}\n\nconst update = (id, Obj) => {\n    return axios.put(`${baseUrl}/${id}`, Obj).then(res => res.data)\n}\n\nconst remove = (deleteObj) => {\n    return axios.delete(`${baseUrl}/${deleteObj.id}`).then(res => res.data)\n}\n\nconst personService = {\n    getAll,\n    create,\n    remove,\n    update\n}\n\nexport default personService","import React from 'react'\n\nconst Person = ({person,handleDelete}) => {\n    return (\n    <div>\n    {person.name} {person.number}\n    <button onClick={() => handleDelete(person.id)}> delete </button>\n    </div>\n    )\n}\n\n\nexport default  Person","import React from \"react\"\nimport Person from \"./Person\"\n// import personService from \"../services/persons\"\n\nconst Persons = (props) => {\n\n    return(\n      <div>\n      {props.persons.map((personItem, id)=> <Person key={id} person={personItem} handleDelete= {props.handleDelete} />)} \n      </div>\n    )\n  }\n\n\nexport default Persons","import React from \"react\"\nimport Person from \"./Person\"\n// const Filter = (props) => {\n//     if (props.input.length === 0) {\n//         return (\n//             <>filter shown with <input type=\"text\" value={props.input} onChange={props.handlePersonShow}/> </>\n//         )\n//     }\n//     else {\n//         return (\n//             <>\n//                 <>filter shown with <input type=\"text\" value={props.input} onChange={props.handlePersonShow}/> </>\n//                 <>{props.personsToshow.map(personItem => <Person key={personItem.id} person={personItem} />)} </> \n//             </>\n//         )\n//     }\n// }\nconst Filter = (props) => {\n    return (\n    props.input.length === 0 ? \n    <>filter shown with <input type=\"text\" value={props.input} onChange={props.handlePersonShow}/> </> \n:\n    <>\n        <>filter shown with <input type=\"text\" value={props.input} onChange={props.handlePersonShow}/> </>\n        <>{props.personsToshow.map(personItem => <Person key={personItem.id} person={personItem} />)} </> \n    </> \n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.addPerson}>\n          <div>name: <input value={props.newName} onChange={props.handleNameChange}/></div>\n          <div>number: <input value={props.newNumber} onChange={props.handleNumberChange}/></div>\n        <div><button type=\"submit\">add</button></div>\n      </form>\n  )\n}\n\nexport default PersonForm","import React from \"react\";\n\nconst Notification = ({message, errorOccured}) => {\n\n    const errorStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10}\n\n    const normalStyle = {\n        color: 'green',\n        fontStyle: 'italic',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10}\n    \n    if (message === null) {\n        return null\n    }\n    if(errorOccured === false) {\n        return (\n            <div style={normalStyle}>\n            {message}\n            <br />\n        </div>\n        )\n    }\n    return (\n        <div style={errorStyle}>\n            {message}\n            <br />\n            <br />\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\n// import axios from 'axios'\nimport personService from './services/persons'\nimport Persons from \"./components/Persons\"\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notification';\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ input, setInput ] = useState('')\n  const [showAll, setShowAll] = useState(false)\n  const [ newNumber, setNewNumber ] = useState('')\n  const [notification, setNotification] = useState(null)\n  const [errorOccur, setErrorOccur] = useState(false)\n  \n  // useEffect(() => {\n  //   axios\n  //     .get('http://localhost:3001/persons')\n  //     .then(response => {\n  //       setPersons(response.data)\n  //     })\n  // }, [])\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {'name': newName, 'number': newNumber} \n    const samePerson = persons.filter(p => p.name === newName)\n    \n      if(samePerson.length !== 0) {\n        let index = persons.findIndex(obj => obj.name === newName)\n        let id = persons[index].id\n        if (window.confirm( `${personObject.name} is already added to phonebook, replace the old number with a new one?`)) {\n          personService\n          .update(id, personObject)\n          .then(personObject => {\n            setPersons(persons.map(person => person.id !== id ? person : personObject))\n            setNotification(`the ${personObject.name}'s information is updated`)\n            setTimeout(() => {setNotification(null)}, 3000)\n          })\n          .catch(err => {\n            console.log(err)\n            setErrorOccur(true)\n            setNotification(`Information of ${personObject.name} has already been removed from the server`)})\n          setTimeout(() => {setNotification(null)}, 5000)\n          setTimeout(() => setErrorOccur(false), 5000)\n        }\n        else {\n          setNotification(`the updation for ${personObject.name}'s number has been canceled`)\n          setTimeout(() => {setNotification(null)}, 3000)\n        }\n      }\n\n      else if(samePerson.length === 0) {\n        personService\n        .create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n        })\n        .then(setNotification(`Add ${newName}`))\n        .then(setTimeout(() => {setNotification(null)}, 3000))\n      }\n    \n    setNewName(\"\")\n    setNewNumber(\"\")\n    \n  }\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    // console.log(event.target.value)\n    setNewNumber(event.target.value)\n    // setNumber(number.concat(numberObject))\n  }\n  \n  const handlePersonShow = (event) => {\n    setInput(event.target.value)\n    setShowAll(false)\n    \n  }\n    \n\n\n  const personsToshow = showAll ? persons : persons.filter(item => item.name.toLowerCase().includes(input.toLowerCase()) === true )\n\n  \n    const deletePerson = (id) => {\n      const matchedPerson = persons.filter(p => p.id === id)[0]\n      // console.log(matchedPerson)\n      window.confirm(`Delete ${matchedPerson.name} ?`) ? \n      personService\n      .remove(matchedPerson)\n      .then(setPersons(persons.filter(n => n.id !== id)))\n      .then(\n        setNotification(`${matchedPerson.name} has just been deleted`))\n        .then(setTimeout(() => setNotification(null), 3000))      \n      \n        // setPersons(persons.filter(p => p.name !== matchedPerson[0].name))\n        : \n        setNotification(`${matchedPerson.name} will not be deleted yet`)\n        setTimeout(() => setNotification(null), 3000)\n\n\n      // alert(`Delete ${matchedPerson[0].name} ?`)\n    }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} errorOccured={errorOccur}/>\n      <Filter input={input} handlePersonShow={handlePersonShow} personsToshow={personsToshow} />\n     \n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      \n      <h2>Numbers</h2>\n      <Persons persons={persons} handleDelete={deletePerson} />\n \n    </div>\n    )\n}\n\nexport default App\n\n","import ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n\n\n\n"],"sourceRoot":""}